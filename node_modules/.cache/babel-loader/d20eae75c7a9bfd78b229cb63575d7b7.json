{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _regeneratorRuntime from\"D:/Documents/node/asm3/Frontend Assignment 03/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/Documents/node/asm3/Frontend Assignment 03/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/Documents/node/asm3/Frontend Assignment 03/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{Link}from'react-router-dom';import HistoryAPI from'../../API/HistoryAPI';import alertify from'alertifyjs';import queryString from'query-string';function MainHistory(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),listCart=_useState2[0],setListCart=_useState2[1];useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return HistoryAPI.getHistoryAPI();case 2:response=_context.sent;if(response.data.error){alertify.set('notifier','position','bottom-left');alertify.error('Your must signin to see your history!');}else{setListCart(response.data.orders);}case 4:case\"end\":return _context.stop();}}},_callee);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"section\",{className:\"py-5 bg-light\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row px-4 px-lg-5 py-lg-4 align-items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-6\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"h2 text-uppercase mb-0\",children:\"History\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-6 text-lg-right\",children:/*#__PURE__*/_jsx(\"nav\",{\"aria-label\":\"breadcrumb\",children:/*#__PURE__*/_jsx(\"ol\",{className:\"breadcrumb justify-content-lg-end mb-0 px-0\",children:/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item active\",children:\"History\"})})})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive pt-5 pb-5\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-light\",children:/*#__PURE__*/_jsxs(\"tr\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(\"th\",{className:\"border-0\",scope:\"col\",children:[' ',/*#__PURE__*/_jsx(\"strong\",{className:\"text-small text-uppercase\",children:\"ID Order\"})]}),/*#__PURE__*/_jsxs(\"th\",{className:\"border-0\",scope:\"col\",children:[' ',/*#__PURE__*/_jsx(\"strong\",{className:\"text-small text-uppercase\",children:\"ID User\"})]}),/*#__PURE__*/_jsxs(\"th\",{className:\"border-0\",scope:\"col\",children:[' ',/*#__PURE__*/_jsx(\"strong\",{className:\"text-small text-uppercase\",children:\"Name\"})]}),/*#__PURE__*/_jsxs(\"th\",{className:\"border-0\",scope:\"col\",children:[' ',/*#__PURE__*/_jsx(\"strong\",{className:\"text-small text-uppercase\",children:\"Phone\"})]}),/*#__PURE__*/_jsxs(\"th\",{className:\"border-0\",scope:\"col\",children:[' ',/*#__PURE__*/_jsx(\"strong\",{className:\"text-small text-uppercase\",children:\"Address\"})]}),/*#__PURE__*/_jsxs(\"th\",{className:\"border-0\",scope:\"col\",children:[' ',/*#__PURE__*/_jsx(\"strong\",{className:\"text-small text-uppercase\",children:\"Total\"})]}),/*#__PURE__*/_jsxs(\"th\",{className:\"border-0\",scope:\"col\",children:[' ',/*#__PURE__*/_jsx(\"strong\",{className:\"text-small text-uppercase\",children:\"Delivery\"})]}),/*#__PURE__*/_jsxs(\"th\",{className:\"border-0\",scope:\"col\",children:[' ',/*#__PURE__*/_jsx(\"strong\",{className:\"text-small text-uppercase\",children:\"Status\"})]}),/*#__PURE__*/_jsxs(\"th\",{className:\"border-0\",scope:\"col\",children:[' ',/*#__PURE__*/_jsx(\"strong\",{className:\"text-small text-uppercase\",children:\"Detail\"})]})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:listCart&&listCart.map(function(value){return/*#__PURE__*/_jsxs(\"tr\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"align-middle border-0\",children:/*#__PURE__*/_jsx(\"p\",{className:\"mb-0 small\",children:value._id})}),/*#__PURE__*/_jsx(\"td\",{className:\"align-middle border-0\",children:/*#__PURE__*/_jsx(\"p\",{className:\"mb-0 small\",children:value.userId})}),/*#__PURE__*/_jsx(\"td\",{className:\"align-middle border-0\",children:/*#__PURE__*/_jsx(\"p\",{className:\"mb-0 small\",children:value.name})}),/*#__PURE__*/_jsx(\"td\",{className:\"align-middle border-0\",children:/*#__PURE__*/_jsx(\"p\",{className:\"mb-0 small\",children:value.phone})}),/*#__PURE__*/_jsx(\"td\",{className:\"align-middle border-0\",children:/*#__PURE__*/_jsx(\"p\",{className:\"mb-0 small\",children:value.address})}),/*#__PURE__*/_jsx(\"td\",{className:\"align-middle border-0\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"mb-0 small\",children:[\"$\",value.total]})}),/*#__PURE__*/_jsx(\"td\",{className:\"align-middle border-0\",children:/*#__PURE__*/_jsx(\"p\",{className:\"mb-0 small\",children:!value.delivery?'Waiting for progressing':'Processed'})}),/*#__PURE__*/_jsx(\"td\",{className:\"align-middle border-0\",children:/*#__PURE__*/_jsx(\"p\",{className:\"mb-0 small\",children:!value.status?'Waiting for pay':'Paid'})}),/*#__PURE__*/_jsx(\"td\",{className:\"align-middle border-0\",children:/*#__PURE__*/_jsxs(Link,{className:\"btn btn-outline-dark btn-sm\",to:\"/history/\".concat(value._id),children:[\"View\",/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-long-arrow-alt-right ml-2\"})]})})]},value._id);})})]})})]});}export default MainHistory;","map":{"version":3,"sources":["D:/Documents/node/asm3/Frontend Assignment 03/src/History/Component/MainHistory.jsx"],"names":["React","useEffect","useState","Link","HistoryAPI","alertify","queryString","MainHistory","props","listCart","setListCart","fetchData","getHistoryAPI","response","data","error","set","orders","map","value","_id","userId","name","phone","address","total","delivery","status"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport HistoryAPI from '../../API/HistoryAPI';\nimport alertify from 'alertifyjs';\nimport queryString from 'query-string';\n\nMainHistory.propTypes = {};\n\nfunction MainHistory(props) {\n  const [listCart, setListCart] = useState([]);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const response = await HistoryAPI.getHistoryAPI();\n      if (response.data.error) {\n        alertify.set('notifier', 'position', 'bottom-left');\n        alertify.error('Your must signin to see your history!');\n      } else {\n        setListCart(response.data.orders);\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  return (\n    <div className=\"container\">\n      <section className=\"py-5 bg-light\">\n        <div className=\"container\">\n          <div className=\"row px-4 px-lg-5 py-lg-4 align-items-center\">\n            <div className=\"col-lg-6\">\n              <h1 className=\"h2 text-uppercase mb-0\">History</h1>\n            </div>\n            <div className=\"col-lg-6 text-lg-right\">\n              <nav aria-label=\"breadcrumb\">\n                <ol className=\"breadcrumb justify-content-lg-end mb-0 px-0\">\n                  <li className=\"breadcrumb-item active\">History</li>\n                </ol>\n              </nav>\n            </div>\n          </div>\n        </div>\n      </section>\n\n      <div className=\"table-responsive pt-5 pb-5\">\n        <table className=\"table\">\n          <thead className=\"bg-light\">\n            <tr className=\"text-center\">\n              <th className=\"border-0\" scope=\"col\">\n                {' '}\n                <strong className=\"text-small text-uppercase\">ID Order</strong>\n              </th>\n              <th className=\"border-0\" scope=\"col\">\n                {' '}\n                <strong className=\"text-small text-uppercase\">ID User</strong>\n              </th>\n              <th className=\"border-0\" scope=\"col\">\n                {' '}\n                <strong className=\"text-small text-uppercase\">Name</strong>\n              </th>\n              <th className=\"border-0\" scope=\"col\">\n                {' '}\n                <strong className=\"text-small text-uppercase\">Phone</strong>\n              </th>\n              <th className=\"border-0\" scope=\"col\">\n                {' '}\n                <strong className=\"text-small text-uppercase\">Address</strong>\n              </th>\n              <th className=\"border-0\" scope=\"col\">\n                {' '}\n                <strong className=\"text-small text-uppercase\">Total</strong>\n              </th>\n              <th className=\"border-0\" scope=\"col\">\n                {' '}\n                <strong className=\"text-small text-uppercase\">Delivery</strong>\n              </th>\n              <th className=\"border-0\" scope=\"col\">\n                {' '}\n                <strong className=\"text-small text-uppercase\">Status</strong>\n              </th>\n              <th className=\"border-0\" scope=\"col\">\n                {' '}\n                <strong className=\"text-small text-uppercase\">Detail</strong>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            {listCart &&\n              listCart.map((value) => (\n                <tr className=\"text-center\" key={value._id}>\n                  <td className=\"align-middle border-0\">\n                    <p className=\"mb-0 small\">{value._id}</p>\n                  </td>\n                  <td className=\"align-middle border-0\">\n                    <p className=\"mb-0 small\">{value.userId}</p>\n                  </td>\n                  <td className=\"align-middle border-0\">\n                    <p className=\"mb-0 small\">{value.name}</p>\n                  </td>\n                  <td className=\"align-middle border-0\">\n                    <p className=\"mb-0 small\">{value.phone}</p>\n                  </td>\n                  <td className=\"align-middle border-0\">\n                    <p className=\"mb-0 small\">{value.address}</p>\n                  </td>\n                  <td className=\"align-middle border-0\">\n                    <p className=\"mb-0 small\">${value.total}</p>\n                  </td>\n                  <td className=\"align-middle border-0\">\n                    <p className=\"mb-0 small\">\n                      {!value.delivery\n                        ? 'Waiting for progressing'\n                        : 'Processed'}\n                    </p>\n                  </td>\n                  <td className=\"align-middle border-0\">\n                    <p className=\"mb-0 small\">\n                      {!value.status ? 'Waiting for pay' : 'Paid'}\n                    </p>\n                  </td>\n                  <td className=\"align-middle border-0\">\n                    <Link\n                      className=\"btn btn-outline-dark btn-sm\"\n                      to={`/history/${value._id}`}\n                    >\n                      View\n                      <i className=\"fas fa-long-arrow-alt-right ml-2\"></i>\n                    </Link>\n                  </td>\n                </tr>\n              ))}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n}\n\nexport default MainHistory;\n"]},"metadata":{},"sourceType":"module"}